<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
   
<mapper namespace="com.farm.service.IWishlistService">
	<insert id="addWishlist"
		parameterType="com.farm.dto.WishlistDTO">
		INSERT INTO wishlist
			(prod_qty, member_id, prod_id)
		VALUES
			(#{prod_qty}, #{member_id}, #{prod_id})
	</insert>
	
	<select id="selectWishlist"
		parameterType="Long"
		resultType="com.farm.dto.WishlistDTO">
		SELECT wish.prod_qty, wish.prod_id, prod.prod_name, prod.prod_price, wish.wish_id
			FROM wishlist wish
			LEFT JOIN product prod
				ON wish.prod_id = prod.prod_id
			WHERE wish.member_id = #{member_id}
			ORDER BY wish.wish_id DESC
	</select>
	
	<update id="updateWishlist"
		parameterType="com.farm.dto.WishlistDTO">
		UPDATE wishlist 
			SET prod_qty = #{prod_qty}
			WHERE wish_id = #{wish_id}
	</update>
	
	<delete id="deleteWishlist"
		parameterType="Long">
		DELETE FROM wishlist WHERE wish_id = #{wish_id}
	</delete>	

</mapper>