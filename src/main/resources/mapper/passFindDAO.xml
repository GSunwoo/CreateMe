<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.common.mapper.IPassFinderMapper">
	<!-- 유저 찾기 -->
	<select id="findUser"
		resultType="long"
		parameterType="com.common.dto.PassFindDTO">
		SELECT member_id FROM member
		WHERE user_id = #{user_id}
		  AND name = #{name}
		  AND emailid = #{emailid}
		  AND emaildomain = #{emaildomain}
	</select>

	<update id="sendNewPw">
		UPDATE member
		SET user_pw = #{passwd}
		WHERE member_id = #{member_id}
	</update>
	
	<select id="selectEmail" parameterType="Long"
		resultType="com.common.dto.PassFindDTO">
		SELECT emailid, emaildomain, name FROM member
		WHERE member_id = #{member_id}
	</select>
</mapper>
